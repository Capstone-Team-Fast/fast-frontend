<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/RecipientService.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/RecipientService.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import axios from 'axios';
const API_URL = 'http://127.0.0.1:8000';

/**
 * This class provides methods to connect to the backend database
 * for the creation, update, retrieval, and deletion of recipients.
 */
export default class RecipientService{

    /**
     * This method connects to the backend database to
     * retrieve a list of all recipients stored in the database.
     * @returns The list of recipients, as JSON objects, stored in the
     *          database.
     */
    getRecipients() {
        const url = `${API_URL}/api/clients/`;
        //const url = `${API_URL}/clients/`;
        return axios.get(url).then(response => response.data);
    }

    /**
     * This method connects to the backend database to retrieve
     * the information for a specific recipient, based on the value 
     * for that recipient's primary key.
     * @param {Number} pk - The primary key of the recipient to be retrieved.
     * @returns The recipient information, as a JSON object, for a specific recipient.
     */
     getRecipient(pk) {
        const url = `${API_URL}/api/clients/${pk}/`;
        return axios.get(url).then(response => response.data);
    }

    /**
     * This method deletes a recipient from the database.
     * @param {Object} recipient The object representing the recipient to be deleted.
     * @returns A response code indicating success or failure of the HTTP
     *          deletion request.
     */
    deleteRecipient(recipient){
        const url = `${API_URL}/api/clients/${recipient.id}/`;
        return axios.delete(url);
    }

    uploadRecipients(recipients){
        const url = `${API_URL}/api/clients/`;
        if (recipients.length > 0) {
            console.log('Saving File to ' + url);
            console.log(recipients);
            for (const recipient of JSON.parse(recipients)) {
                axios.post(url, recipient).then(response => response.data);
            }
            return;
        }
    }

    /**
     * This method creates a new recipient in the backend database.
     * @param {Object} recipient A JSON driver object used to create a new
     *                  recipient in the backend database.
     * @returns A JSON object of the recipient that has been created, or 
     *          an error message if the request fails.
     */
     createRecipient(recipient){
        const url = `${API_URL}/api/clients/`;
        //const url = `${API_URL}/clients/`;
        return axios.post(url,recipient).then(response => response.data);
    }

    /**
     * This method updates the information for a recipient in the database 
     * based on the recipient object passed as a parameter to the method.
     * @param {Object} recipient The updated recipient object to be stored in the 
     *                  database.
     * @returns A JSON object of the recipient that has been updated, or 
     *          an error message if the request fails.
     */
     updateRecipient(recipient){
        const url = `${API_URL}/api/clients/${recipient.id}/`;
        //const url = `${API_URL}/clients/${recipient.pk}`;
        return axios.put(url,recipient);
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AddDriver.html">AddDriver</a></li><li><a href="AddRecipient.html">AddRecipient</a></li><li><a href="Driver.html">Driver</a></li><li><a href="DriverRoute.html">DriverRoute</a></li><li><a href="History.html">History</a></li><li><a href="module.exports.html">exports</a></li><li><a href="Recipient.html">Recipient</a></li><li><a href="RouteResults.html">RouteResults</a></li><li><a href="UpdateDriver.html">UpdateDriver</a></li><li><a href="UpdateRecipient.html">UpdateRecipient</a></li><li><a href="ViewDriver.html">ViewDriver</a></li><li><a href="ViewRecipient.html">ViewRecipient</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createDriver">createDriver</a></li><li><a href="global.html#createRecipient">createRecipient</a></li><li><a href="global.html#createRoute">createRoute</a></li><li><a href="global.html#deleteDriver">deleteDriver</a></li><li><a href="global.html#deleteLocation">deleteLocation</a></li><li><a href="global.html#deleteRecipient">deleteRecipient</a></li><li><a href="global.html#deleteRouteList">deleteRouteList</a></li><li><a href="global.html#findDrivers">findDrivers</a></li><li><a href="global.html#findRecipients">findRecipients</a></li><li><a href="global.html#getDriver">getDriver</a></li><li><a href="global.html#getDrivers">getDrivers</a></li><li><a href="global.html#getLocations">getLocations</a></li><li><a href="global.html#getRecipient">getRecipient</a></li><li><a href="global.html#getRecipients">getRecipients</a></li><li><a href="global.html#getRoute">getRoute</a></li><li><a href="global.html#getRouteList">getRouteList</a></li><li><a href="global.html#getRouteLists">getRouteLists</a></li><li><a href="global.html#getRoutes">getRoutes</a></li><li><a href="global.html#updateDriver">updateDriver</a></li><li><a href="global.html#updateRecipient">updateRecipient</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri May 06 2022 16:22:02 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
